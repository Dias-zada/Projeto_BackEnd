<!DOCTYPE html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cadastro</title>

        <link rel="stylesheet" type="text/css" href="vendas.css"/>
        <link rel="stylesheet" type="text/css" href="Recursos/bootstrap/css/bootstrap.min.css"/>
    </head>
    <body>
        <div class="modal modal-signin position-static d-block margin-meio " tabindex="-1" role="dialog"></div>
            <div class="modal-dialog modal-lg margin-meio" role="document">
                <div class="modal-content rounded-5 shadow">
                    <div class="modal-header p-5 pb-4 border-bottom-0 cor-bloco">
                        <h2 class="fw-bold mb-0">Cadastro de Vendas</h2>
                    </div>
                    <div class="modal-body p-5 pt-0 cor-bloco">
                    <!-- Input para pesquisar o produto-->
                    <input type = "text" class="form-control" id="search" autocomplete="off" placeholder="Buscar Produto">
                    <br></br>
                        <!--Div onde aparece os dados do produto pesquisa no input acima-->
                        <div class = "cor-bloco">
                            <div id="teste"></div>
                        </div> 

                        <!--Outra tabela onde mostra todos os produtos cadastrados no banco de dados-->
                        <div>
                            <table class="table table-striped table-light">
                                <thead class="cor-table">
                                    <tr>
                                        <th >Nome</th>
                                        <th >Referencia</th>
                                        <th >Preço</th>
                                    </tr>            
                                </thead>
                                <tbody id="tabela">

                                </tbody>
                            </table>
                        </div>
                        
                        <!--Cria um pop up para que o usuario posso registrar a venda do produto escolhido-->
                        <div class="popup-wrapper">
                            <div class="popup">
                                <div class="popup-close">X</div>
                                <div class="popup-content">
                                    <div class="modal-dialog modal-lg margin-meio" role="document">
                                        <div class="modal-content rounded-5 shadow">
                                            <div class="modal-header p-5 pb-4 border-bottom-0 cor-bloco">
                                                <h2 class="fw-bold mb-0">Venda</h2>
                                            </div>
                                
                                            <div class="modal-body p-5 pt-0 cor-bloco">
                                                <form id="form">
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="text" required class="form-control rounded-4" id="txtDataVenda" name="DataVenda" placeholder="Data Venda" readonly>
                                                                <label id="labelDataVenda" for="txtDataVenda">Data Venda</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="number" class="form-control rounded-4" minlength="8" maxlength="8" id="txtCEP" name="CEP" placeholder="CEP"required>
                                                                <label id="labelCEP" for="txtCEP">CEP</label>
                                                            </div>
                                                        </div>
                                                    </div>
                        
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <select class="form-control rounded-4" id="txtEstado" name="Estado" placeholder="Estado" required>
                                                                    <option value="" data-default disabled selected>Escolher</option>
                                                                    <option value="AC">AC</option>
                                                                    <option value="AL">AL</option>
                                                                    <option value="AP">AP</option>
                                                                    <option value="AM">AM</option>
                                                                    <option value="BA">BA</option>
                                                                    <option value="CE">CE</option>
                                                                    <option value="DF">DF</option>
                                                                    <option value="ES">ES</option>
                                                                    <option value="GO">GO</option>
                                                                    <option value="MA">MA</option>
                                                                    <option value="MT">MT</option>
                                                                    <option value="MS">MS</option>
                                                                    <option value="MG">MG</option>
                                                                    <option value="PA">PA</option>
                                                                    <option value="PB">PB</option>
                                                                    <option value="PR">PR</option>
                                                                    <option value="PE">PE</option>
                                                                    <option value="PI">PI</option>
                                                                    <option value="RJ">RJ</option>
                                                                    <option value="RN">RN</option>
                                                                    <option value="RS">RS</option>
                                                                    <option value="RO">RO</option>
                                                                    <option value="RR">RR</option>
                                                                    <option value="SC">SC</option>
                                                                    <option value="SP">SP</option>
                                                                    <option value="SE">SE</option>
                                                                    <option value="TO">TO</option>
                                                                    <option value="CEP NÃO ENCONTRADO" style="display:none;">CEP NÃO ENCONTRADO</option></option>
                                                                </select>
                                                                <label id="labelEstado" for="txtEstado">Estado</label>
                                                            </div>
                                                        </div>   
                        
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="text" class="form-control rounded-4" id="txtCidade" name="Cidade" placeholder="Cidade" required maxlength="30">
                                                                <label id="labelCidade" for="txtCidade">Cidade</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="text" class="form-control rounded-4" id="txtBairro" name="Bairro" placeholder="Bairro" required maxlength="30">
                                                                <label id="labelBairro" for="txtBairro">Bairro</label>
                                                            </div>
                                                        </div>
                    
                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="text" class="form-control rounded-4" id="txtRua" name="Rua" placeholder="Rua" maxlength="10" onkeypress="return event.charCode >= 48 && event.charCode <= 57" required>
                                                                <label id="labelRua" for="txtRua">Rua</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-6">
                                                            <div class="form-floating mb-3">
                                                                <input type="text" style="display:none;" id="txtId" name="Id" value ="">
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <button id="submit" class="w-100 mb-2 btn btn-lg rounded-4 btn-dark">Enviar</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="container margin-meio cor-bloco shadow">
                            <div class="modal-header p-5 pb-4 border-bottom-0 cor-bloco">
                                <h2 class="fw-bold mb-0">Cadastro de Vendas</h2>
                            </div>
                            <!--Tabela final que apresenta as vendas-->
                            <table class="table table-striped table-dark">
                                <thead>
                                    <tr>
                                        <th scope="col">Nome Produto</th>
                                        <th scope="col">Preco</th>
                                        <th scope="col">Fornecedores</th>
                                    </tr>
                                </thead>
                                <tbody id = "corpoTabela">     
                                </tbody>
                            </table>
                            <!--Divs para mostra o preço final-->
                            <div id="precoTabela"></div>
                            <button id="venda" class="w-100 mb-2 btn btn-lg rounded-4 btn-dark">Confirmar Venda</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script type="module" src="venda.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</html>